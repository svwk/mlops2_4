schema: '2.0'
stages:
  fill_na:
    cmd: python -m scripts.data_scripts.fill_na data/raw/dataset.csv
    deps:
    - path: data/raw/dataset.csv
      hash: md5
      md5: 48f64e2a2591e91487493e86a0c0881b
      size: 2263967
    - path: scripts/data_scripts/data_methods.py
      hash: md5
      md5: a3e0a65b5adcf83fa09e1dc11ff83986
      size: 1701
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 125d4612bb4507456a4f1da125ec9b18
      size: 1375
    outs:
    - path: data/stage_fill_na/dataset.csv
      hash: md5
      md5: f4954ca67a388cf81fdafbe790020f33
      size: 1887649
  data_prepare:
    cmd: python -m scripts.data_scripts.data_prepare data/stage_fill_na/dataset.csv
    deps:
    - path: data/stage_fill_na/dataset.csv
      hash: md5
      md5: f4954ca67a388cf81fdafbe790020f33
      size: 1887649
    - path: scripts/data_scripts/data_methods.py
      hash: md5
      md5: a3e0a65b5adcf83fa09e1dc11ff83986
      size: 1701
    - path: scripts/data_scripts/data_prepare.py
      hash: md5
      md5: d534ed72933df013a7a95fc80fd250ad
      size: 957
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 125d4612bb4507456a4f1da125ec9b18
      size: 1375
    outs:
    - path: data/stage_data_prepare/dataset.csv
      hash: md5
      md5: 721884eb6032dbfbb95cb636462576df
      size: 1782001
  fix_errors:
    cmd: python -m scripts.data_scripts.fix_errors data/stage_data_prepare/dataset.csv
    deps:
    - path: data/stage_data_prepare/dataset.csv
      hash: md5
      md5: 721884eb6032dbfbb95cb636462576df
      size: 1782001
    - path: scripts/data_scripts/data_methods.py
      hash: md5
      md5: a3e0a65b5adcf83fa09e1dc11ff83986
      size: 1701
    - path: scripts/data_scripts/data_prepare.py
      hash: md5
      md5: d534ed72933df013a7a95fc80fd250ad
      size: 957
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 125d4612bb4507456a4f1da125ec9b18
      size: 1375
    - path: scripts/data_scripts/fix_errors.py
      hash: md5
      md5: e56fa0ae4144a47642bc45a2db1c1deb
      size: 6096
    - path: scripts/data_scripts/utils/seniority_cats.py
      hash: md5
      md5: 52215c60915e0ba4ac5bd7c027bb897e
      size: 4454
    outs:
    - path: data/stage_fix_errors/dataset.csv
      hash: md5
      md5: 47fe7b5ad3fcf289c99656fb6ac983c3
      size: 1795738
  create_features:
    cmd: python -m scripts.data_scripts.create_features data/stage_fix_errors/dataset.csv
    deps:
    - path: data/stage_fix_errors/dataset.csv
      hash: md5
      md5: 47fe7b5ad3fcf289c99656fb6ac983c3
      size: 1795738
    - path: scripts/data_scripts/create_features.py
      hash: md5
      md5: be8639955171559adfebecf4d47953b1
      size: 12842
    - path: scripts/data_scripts/data_methods.py
      hash: md5
      md5: a3e0a65b5adcf83fa09e1dc11ff83986
      size: 1701
    - path: scripts/data_scripts/data_prepare.py
      hash: md5
      md5: d534ed72933df013a7a95fc80fd250ad
      size: 957
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 125d4612bb4507456a4f1da125ec9b18
      size: 1375
    - path: scripts/data_scripts/fix_errors.py
      hash: md5
      md5: e56fa0ae4144a47642bc45a2db1c1deb
      size: 6096
    - path: scripts/data_scripts/utils/seniority_cats.py
      hash: md5
      md5: 52215c60915e0ba4ac5bd7c027bb897e
      size: 4454
    outs:
    - path: data/stage_create_features/dataset.csv
      hash: md5
      md5: ae849ff64a796381ec26b131790f8ccf
      size: 3160126
  feature_prepare:
    cmd: python -m scripts.data_scripts.feature_prepare B data/stage_create_features/dataset.csv
    deps:
    - path: data/stage_create_features/dataset.csv
      hash: md5
      md5: ae849ff64a796381ec26b131790f8ccf
      size: 3160126
    - path: scripts/data_scripts/create_features.py
      hash: md5
      md5: be8639955171559adfebecf4d47953b1
      size: 12842
    - path: scripts/data_scripts/data_methods.py
      hash: md5
      md5: a3e0a65b5adcf83fa09e1dc11ff83986
      size: 1701
    - path: scripts/data_scripts/data_prepare.py
      hash: md5
      md5: d534ed72933df013a7a95fc80fd250ad
      size: 957
    - path: scripts/data_scripts/feature_prepare.py
      hash: md5
      md5: e82a01305c539f684d4cc5ca410318e8
      size: 6860
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 125d4612bb4507456a4f1da125ec9b18
      size: 1375
    - path: scripts/data_scripts/fix_errors.py
      hash: md5
      md5: e56fa0ae4144a47642bc45a2db1c1deb
      size: 6096
    - path: scripts/data_scripts/utils/seniority_cats.py
      hash: md5
      md5: 52215c60915e0ba4ac5bd7c027bb897e
      size: 4454
    outs:
    - path: data/stage_feature_prepare/dataset_B.csv
      hash: md5
      md5: f8fe275c116063edaac7a9c22213ce89
      size: 3133328
    - path: models/scaler_B.pkl
      hash: md5
      md5: 8a0b7d24e23bd95396d8a9f09da44d30
      size: 1159
  train_test_split:
    cmd: python -m scripts.data_scripts.train_test_split B data/stage_feature_prepare/dataset_B.csv
    deps:
    - path: data/stage_feature_prepare/dataset_B.csv
      hash: md5
      md5: f8fe275c116063edaac7a9c22213ce89
      size: 3133328
    - path: scripts/data_scripts/create_features.py
      hash: md5
      md5: be8639955171559adfebecf4d47953b1
      size: 12842
    - path: scripts/data_scripts/data_methods.py
      hash: md5
      md5: a3e0a65b5adcf83fa09e1dc11ff83986
      size: 1701
    - path: scripts/data_scripts/data_prepare.py
      hash: md5
      md5: d534ed72933df013a7a95fc80fd250ad
      size: 957
    - path: scripts/data_scripts/feature_prepare.py
      hash: md5
      md5: e82a01305c539f684d4cc5ca410318e8
      size: 6860
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 125d4612bb4507456a4f1da125ec9b18
      size: 1375
    - path: scripts/data_scripts/fix_errors.py
      hash: md5
      md5: e56fa0ae4144a47642bc45a2db1c1deb
      size: 6096
    - path: scripts/data_scripts/train_test_split.py
      hash: md5
      md5: 4cda161c4c55b974b1e5994d8be25560
      size: 2786
    - path: scripts/data_scripts/utils/seniority_cats.py
      hash: md5
      md5: 52215c60915e0ba4ac5bd7c027bb897e
      size: 4454
    params:
      params.yaml:
        split.split_ratio: 0.3
    outs:
    - path: data/stage_train_test_split/test_B.csv
      hash: md5
      md5: 0ee6a73559b59b20adba4d7f826e5ff1
      size: 927802
    - path: data/stage_train_test_split/train_B.csv
      hash: md5
      md5: 818251ce1befe4eee77aaa8617281adf
      size: 2159838
  train:
    cmd: python -m scripts.model_scripts.xgbclassifier B data/stage_train_test_split/train_B.csv
    deps:
    - path: data/stage_train_test_split/train_B.csv
      hash: md5
      md5: 818251ce1befe4eee77aaa8617281adf
      size: 2159838
    - path: scripts/data_scripts/create_features.py
      hash: md5
      md5: be8639955171559adfebecf4d47953b1
      size: 12842
    - path: scripts/data_scripts/data_methods.py
      hash: md5
      md5: a3e0a65b5adcf83fa09e1dc11ff83986
      size: 1701
    - path: scripts/data_scripts/data_prepare.py
      hash: md5
      md5: d534ed72933df013a7a95fc80fd250ad
      size: 957
    - path: scripts/data_scripts/feature_prepare.py
      hash: md5
      md5: e82a01305c539f684d4cc5ca410318e8
      size: 6860
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 125d4612bb4507456a4f1da125ec9b18
      size: 1375
    - path: scripts/data_scripts/fix_errors.py
      hash: md5
      md5: e56fa0ae4144a47642bc45a2db1c1deb
      size: 6096
    - path: scripts/data_scripts/train_test_split.py
      hash: md5
      md5: 4cda161c4c55b974b1e5994d8be25560
      size: 2786
    - path: scripts/data_scripts/utils/seniority_cats.py
      hash: md5
      md5: 52215c60915e0ba4ac5bd7c027bb897e
      size: 4454
    - path: scripts/model_scripts/train.py
      hash: md5
      md5: aeff25ac36dbe4d2a048a624408333fe
      size: 1586
    - path: scripts/model_scripts/xgbclassifier.py
      hash: md5
      md5: 864d7e9487e99378eaf3c4e261cd9b2f
      size: 2545
    params:
      params.yaml:
        general.train_method: xgbclassifier
        log_reg.max_iter: 15
        neural.hidden_layer_sizes_x: 6
        neural.hidden_layer_sizes_y: 2
        neural.learning_rate_init: 0.005
        neural.max_depth: 1000
        neural.verbose: true
        tree.eta: 0.01
        tree.max_depth: 20
        tree.n_estimators: 200
        tree.reg_alpha: 1
        tree.reg_lambda: 2
        tree.scale_pos_weight: 9
    outs:
    - path: models/model_xgbclassifier_B.pkl
      hash: md5
      md5: 7699c1a61aeb2a1fc11cae9e19a51b9f
      size: 3562483
  evaluate:
    cmd: python -m scripts.model_scripts.evaluate B data/stage_train_test_split/test_B.csv
      model_xgbclassifier_B.pkl score_xgbclassifier_B.json
    deps:
    - path: data/stage_train_test_split/test_B.csv
      hash: md5
      md5: 0ee6a73559b59b20adba4d7f826e5ff1
      size: 927802
    - path: models/model_xgbclassifier_B.pkl
      hash: md5
      md5: 7699c1a61aeb2a1fc11cae9e19a51b9f
      size: 3562483
    - path: scripts/data_scripts/create_features.py
      hash: md5
      md5: be8639955171559adfebecf4d47953b1
      size: 12842
    - path: scripts/data_scripts/data_methods.py
      hash: md5
      md5: a3e0a65b5adcf83fa09e1dc11ff83986
      size: 1701
    - path: scripts/data_scripts/data_prepare.py
      hash: md5
      md5: d534ed72933df013a7a95fc80fd250ad
      size: 957
    - path: scripts/data_scripts/feature_prepare.py
      hash: md5
      md5: e82a01305c539f684d4cc5ca410318e8
      size: 6860
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 125d4612bb4507456a4f1da125ec9b18
      size: 1375
    - path: scripts/data_scripts/fix_errors.py
      hash: md5
      md5: e56fa0ae4144a47642bc45a2db1c1deb
      size: 6096
    - path: scripts/data_scripts/train_test_split.py
      hash: md5
      md5: 4cda161c4c55b974b1e5994d8be25560
      size: 2786
    - path: scripts/data_scripts/utils/seniority_cats.py
      hash: md5
      md5: 52215c60915e0ba4ac5bd7c027bb897e
      size: 4454
    - path: scripts/model_scripts/evaluate.py
      hash: md5
      md5: 5471da4a079b1f19b831607f65153b1c
      size: 2151
    - path: scripts/model_scripts/train.py
      hash: md5
      md5: aeff25ac36dbe4d2a048a624408333fe
      size: 1586
    - path: scripts/model_scripts/xgbclassifier.py
      hash: md5
      md5: 864d7e9487e99378eaf3c4e261cd9b2f
      size: 2545
    params:
      params.yaml:
        general.train_method: xgbclassifier
    outs:
    - path: evaluate/score_xgbclassifier_B.json
      hash: md5
      md5: 556c7d4c5c1083d205e851c25c6f57a5
      size: 32
