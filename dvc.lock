schema: '2.0'
stages:
  fill_na:
    cmd: python -m scripts.data_scripts.fill_na data/raw/dataset.csv
    deps:
    - path: data/raw/dataset.csv
      hash: md5
      md5: 48f64e2a2591e91487493e86a0c0881b
      size: 2263967
    - path: scripts/data_scripts/data_methods.py
      hash: md5
      md5: a3e0a65b5adcf83fa09e1dc11ff83986
      size: 1701
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 125d4612bb4507456a4f1da125ec9b18
      size: 1375
    outs:
    - path: data/stage_fill_na/dataset.csv
      hash: md5
      md5: f4954ca67a388cf81fdafbe790020f33
      size: 1887649
  data_prepare:
    cmd: python -m scripts.data_scripts.data_prepare data/stage_fill_na/dataset.csv
    deps:
    - path: data/stage_fill_na/dataset.csv
      hash: md5
      md5: f4954ca67a388cf81fdafbe790020f33
      size: 1887649
    - path: scripts/data_scripts/data_methods.py
      hash: md5
      md5: a3e0a65b5adcf83fa09e1dc11ff83986
      size: 1701
    - path: scripts/data_scripts/data_prepare.py
      hash: md5
      md5: d534ed72933df013a7a95fc80fd250ad
      size: 957
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 125d4612bb4507456a4f1da125ec9b18
      size: 1375
    outs:
    - path: data/stage_data_prepare/dataset.csv
      hash: md5
      md5: 721884eb6032dbfbb95cb636462576df
      size: 1782001
  fix_errors:
    cmd: python -m scripts.data_scripts.fix_errors data/stage_data_prepare/dataset.csv
    deps:
    - path: data/stage_data_prepare/dataset.csv
      hash: md5
      md5: 721884eb6032dbfbb95cb636462576df
      size: 1782001
    - path: scripts/data_scripts/data_methods.py
      hash: md5
      md5: a3e0a65b5adcf83fa09e1dc11ff83986
      size: 1701
    - path: scripts/data_scripts/data_prepare.py
      hash: md5
      md5: d534ed72933df013a7a95fc80fd250ad
      size: 957
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 125d4612bb4507456a4f1da125ec9b18
      size: 1375
    - path: scripts/data_scripts/fix_errors.py
      hash: md5
      md5: e56fa0ae4144a47642bc45a2db1c1deb
      size: 6096
    - path: scripts/data_scripts/utils/seniority_cats.py
      hash: md5
      md5: 52215c60915e0ba4ac5bd7c027bb897e
      size: 4454
    outs:
    - path: data/stage_fix_errors/dataset.csv
      hash: md5
      md5: 47fe7b5ad3fcf289c99656fb6ac983c3
      size: 1795738
  create_features:
    cmd: python -m scripts.data_scripts.create_features data/stage_fix_errors/dataset.csv
    deps:
    - path: data/stage_fix_errors/dataset.csv
      hash: md5
      md5: 47fe7b5ad3fcf289c99656fb6ac983c3
      size: 1795738
    - path: scripts/data_scripts/create_features.py
      hash: md5
      md5: be8639955171559adfebecf4d47953b1
      size: 12842
    - path: scripts/data_scripts/data_methods.py
      hash: md5
      md5: a3e0a65b5adcf83fa09e1dc11ff83986
      size: 1701
    - path: scripts/data_scripts/data_prepare.py
      hash: md5
      md5: d534ed72933df013a7a95fc80fd250ad
      size: 957
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 125d4612bb4507456a4f1da125ec9b18
      size: 1375
    - path: scripts/data_scripts/fix_errors.py
      hash: md5
      md5: e56fa0ae4144a47642bc45a2db1c1deb
      size: 6096
    - path: scripts/data_scripts/utils/seniority_cats.py
      hash: md5
      md5: 52215c60915e0ba4ac5bd7c027bb897e
      size: 4454
    outs:
    - path: data/stage_create_features/dataset.csv
      hash: md5
      md5: ae849ff64a796381ec26b131790f8ccf
      size: 3160126
  feature_prepare:
    cmd: python -m scripts.data_scripts.feature_prepare A data/stage_create_features/dataset.csv
    deps:
    - path: data/stage_create_features/dataset.csv
      hash: md5
      md5: ae849ff64a796381ec26b131790f8ccf
      size: 3160126
    - path: scripts/data_scripts/create_features.py
      hash: md5
      md5: be8639955171559adfebecf4d47953b1
      size: 12842
    - path: scripts/data_scripts/data_methods.py
      hash: md5
      md5: a3e0a65b5adcf83fa09e1dc11ff83986
      size: 1701
    - path: scripts/data_scripts/data_prepare.py
      hash: md5
      md5: d534ed72933df013a7a95fc80fd250ad
      size: 957
    - path: scripts/data_scripts/feature_prepare.py
      hash: md5
      md5: e82a01305c539f684d4cc5ca410318e8
      size: 6860
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 125d4612bb4507456a4f1da125ec9b18
      size: 1375
    - path: scripts/data_scripts/fix_errors.py
      hash: md5
      md5: e56fa0ae4144a47642bc45a2db1c1deb
      size: 6096
    - path: scripts/data_scripts/utils/seniority_cats.py
      hash: md5
      md5: 52215c60915e0ba4ac5bd7c027bb897e
      size: 4454
    outs:
    - path: data/stage_feature_prepare/dataset_A.csv
      hash: md5
      md5: ee8f14328d900955881ed5ab92addc7b
      size: 3147050
    - path: models/scaler_A.pkl
      hash: md5
      md5: 8a0b7d24e23bd95396d8a9f09da44d30
      size: 1159
  train_test_split:
    cmd: python -m scripts.data_scripts.train_test_split A data/stage_feature_prepare/dataset_A.csv
    deps:
    - path: data/stage_feature_prepare/dataset_A.csv
      hash: md5
      md5: ee8f14328d900955881ed5ab92addc7b
      size: 3147050
    - path: scripts/data_scripts/create_features.py
      hash: md5
      md5: be8639955171559adfebecf4d47953b1
      size: 12842
    - path: scripts/data_scripts/data_methods.py
      hash: md5
      md5: a3e0a65b5adcf83fa09e1dc11ff83986
      size: 1701
    - path: scripts/data_scripts/data_prepare.py
      hash: md5
      md5: d534ed72933df013a7a95fc80fd250ad
      size: 957
    - path: scripts/data_scripts/feature_prepare.py
      hash: md5
      md5: e82a01305c539f684d4cc5ca410318e8
      size: 6860
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 125d4612bb4507456a4f1da125ec9b18
      size: 1375
    - path: scripts/data_scripts/fix_errors.py
      hash: md5
      md5: e56fa0ae4144a47642bc45a2db1c1deb
      size: 6096
    - path: scripts/data_scripts/train_test_split.py
      hash: md5
      md5: 4cda161c4c55b974b1e5994d8be25560
      size: 2786
    - path: scripts/data_scripts/utils/seniority_cats.py
      hash: md5
      md5: 52215c60915e0ba4ac5bd7c027bb897e
      size: 4454
    params:
      params.yaml:
        split.split_ratio: 0.3
    outs:
    - path: data/stage_train_test_split/test_A.csv
      hash: md5
      md5: 1fbecff4eb4e5ce26acc0218a950b271
      size: 932472
    - path: data/stage_train_test_split/train_A.csv
      hash: md5
      md5: b76ce91d97dbf18a296413e3725d4dfc
      size: 2168942
  train:
    cmd: python -m scripts.model_scripts.xgbclassifier A data/stage_train_test_split/train_A.csv
    deps:
    - path: data/stage_train_test_split/train_A.csv
      hash: md5
      md5: b76ce91d97dbf18a296413e3725d4dfc
      size: 2168942
    - path: scripts/data_scripts/create_features.py
      hash: md5
      md5: be8639955171559adfebecf4d47953b1
      size: 12842
    - path: scripts/data_scripts/data_methods.py
      hash: md5
      md5: a3e0a65b5adcf83fa09e1dc11ff83986
      size: 1701
    - path: scripts/data_scripts/data_prepare.py
      hash: md5
      md5: d534ed72933df013a7a95fc80fd250ad
      size: 957
    - path: scripts/data_scripts/feature_prepare.py
      hash: md5
      md5: e82a01305c539f684d4cc5ca410318e8
      size: 6860
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 125d4612bb4507456a4f1da125ec9b18
      size: 1375
    - path: scripts/data_scripts/fix_errors.py
      hash: md5
      md5: e56fa0ae4144a47642bc45a2db1c1deb
      size: 6096
    - path: scripts/data_scripts/train_test_split.py
      hash: md5
      md5: 4cda161c4c55b974b1e5994d8be25560
      size: 2786
    - path: scripts/data_scripts/utils/seniority_cats.py
      hash: md5
      md5: 52215c60915e0ba4ac5bd7c027bb897e
      size: 4454
    - path: scripts/model_scripts/train.py
      hash: md5
      md5: aeff25ac36dbe4d2a048a624408333fe
      size: 1586
    - path: scripts/model_scripts/xgbclassifier.py
      hash: md5
      md5: 864d7e9487e99378eaf3c4e261cd9b2f
      size: 2545
    params:
      params.yaml:
        general.train_method: xgbclassifier
        log_reg.max_iter: 15
        neural.hidden_layer_sizes_x: 6
        neural.hidden_layer_sizes_y: 2
        neural.learning_rate_init: 0.005
        neural.max_depth: 1000
        neural.verbose: true
        tree.eta: 0.01
        tree.max_depth: 50
        tree.n_estimators: 200
        tree.reg_alpha: 1
        tree.reg_lambda: 2
        tree.scale_pos_weight: 9
    outs:
    - path: models/model_xgbclassifier_A.pkl
      hash: md5
      md5: a0dd328b19ca4a21076e96577dfbb8e1
      size: 4370443
  evaluate:
    cmd: python -m scripts.model_scripts.evaluate A data/stage_train_test_split/test_A.csv
      model_xgbclassifier_A.pkl score_xgbclassifier_A.json
    deps:
    - path: data/stage_train_test_split/test_A.csv
      hash: md5
      md5: 1fbecff4eb4e5ce26acc0218a950b271
      size: 932472
    - path: models/model_xgbclassifier_A.pkl
      hash: md5
      md5: a0dd328b19ca4a21076e96577dfbb8e1
      size: 4370443
    - path: scripts/data_scripts/create_features.py
      hash: md5
      md5: be8639955171559adfebecf4d47953b1
      size: 12842
    - path: scripts/data_scripts/data_methods.py
      hash: md5
      md5: a3e0a65b5adcf83fa09e1dc11ff83986
      size: 1701
    - path: scripts/data_scripts/data_prepare.py
      hash: md5
      md5: d534ed72933df013a7a95fc80fd250ad
      size: 957
    - path: scripts/data_scripts/feature_prepare.py
      hash: md5
      md5: e82a01305c539f684d4cc5ca410318e8
      size: 6860
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 125d4612bb4507456a4f1da125ec9b18
      size: 1375
    - path: scripts/data_scripts/fix_errors.py
      hash: md5
      md5: e56fa0ae4144a47642bc45a2db1c1deb
      size: 6096
    - path: scripts/data_scripts/train_test_split.py
      hash: md5
      md5: 4cda161c4c55b974b1e5994d8be25560
      size: 2786
    - path: scripts/data_scripts/utils/seniority_cats.py
      hash: md5
      md5: 52215c60915e0ba4ac5bd7c027bb897e
      size: 4454
    - path: scripts/model_scripts/evaluate.py
      hash: md5
      md5: 5471da4a079b1f19b831607f65153b1c
      size: 2151
    - path: scripts/model_scripts/train.py
      hash: md5
      md5: aeff25ac36dbe4d2a048a624408333fe
      size: 1586
    - path: scripts/model_scripts/xgbclassifier.py
      hash: md5
      md5: 864d7e9487e99378eaf3c4e261cd9b2f
      size: 2545
    params:
      params.yaml:
        general.train_method: xgbclassifier
    outs:
    - path: evaluate/score_xgbclassifier_A.json
      hash: md5
      md5: 1682e9c8042ae39fba316d2ab15f0850
      size: 32
